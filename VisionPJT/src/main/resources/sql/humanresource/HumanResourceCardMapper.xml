<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
		
<mapper namespace="HumanResourceCardMapper">
	<resultMap id="HumanResourceCardSelectMap" type="humanResourceCard" >
		<result property="employeeNo" column="EMPLOYEE_NO" jdbcType="VARCHAR"/>
		<result property="employeeName" column="EMPLOYEE_NAME" jdbcType="VARCHAR"/>
		<result property="departCodeNo" column="DEPART_CODE_NO" jdbcType="VARCHAR"/>
		<result property="departCodeName" column="DEPART_CODE_NAME" jdbcType="VARCHAR"/>
		<result property="ssn" column="SSN" jdbcType="VARCHAR"/>
		<result property="rankCodeNo" column="RANK_CODE_NO" jdbcType="VARCHAR"/>
		<result property="rankCodeName" column="RANK_CODE_NAME" jdbcType="VARCHAR"/>
		<result property="joinDate" column="JOIN_DATE" jdbcType="VARCHAR"/>
		<result property="employeePhone" column="EMPLOYEE_PHONE" jdbcType="VARCHAR"/>
		<result property="employeeTel" column="EMPLOYEE_TEL" jdbcType="VARCHAR"/>
		<result property="employeeEmail" column="EMAIL" jdbcType="VARCHAR"/>
		<result property="resignation" column="RESIGN_CODE" jdbcType="VARCHAR"/>
		<result property="resignDate" column="RESIGN_DATE" jdbcType="VARCHAR"/>
		<result property="resignReason" column="RESIGN_REASON" jdbcType="VARCHAR"/>
		<result property="zipCode" column="ZIP_CODE" jdbcType="VARCHAR"/>
		<result property="address" column="ADDRESS" jdbcType="VARCHAR"/>
		<result property="detailAddress" column="DETAIL_ADDRESS" jdbcType="VARCHAR"/>
		<result property="profileImage" column="PROFILE_IMAGE" jdbcType="VARCHAR"/>
		<result property="signatureImage" column="SIGNATURE_IMAGE" jdbcType="VARCHAR"/>
		<result property="contractFile" column="CONTRACT_FILE" jdbcType="VARCHAR"/>
		<result property="wage" column="WAGE" jdbcType="VARCHAR"/>
		<result property="refer" column="REFER" jdbcType="VARCHAR"/>
		
		<association property="account" javaType="account">
			<result property="accountRegNo" column="ACCOUNT_REG_NO"/>
			<result property="accountNo" column="ACCOUNT_NO"/>
			<result property="accountHolder" column="ACCOUNT_HOLDER"/>
			<result property="bankCodeNo" column="BANK_CODE_NO"/>
			<result property="bankCodeName" column="BANK_CODE_NAME"/>
		</association>
		
	</resultMap>
	
	<insert id="insertHumanResourceCard" parameterType="humanResourceCard">
		INSERT  
		  INTO	HUMAN_RESOURCE_CARD	
		  			(
		  			EMPLOYEE_NO
		  		,	EMPLOYEE_NAME
		  		,	DEPART_CODE_NO
		  		,	SSN
		  		,	RANK_CODE_NO
		  		,	JOIN_DATE
		  		,	EMPLOYEE_PHONE
		  		,	EMPLOYEE_TEL
		  		,	EMAIL
		  		,	ZIP_CODE
		  		,	ADDRESS
		  		,	DETAIL_ADDRESS
		  		,	PROFILE_IMAGE
		  		,	SIGNATURE_IMAGE
		  		,	CONTRACT_FILE
		  		,	WAGE
		  		,	REFER
		  			)
		VALUES	
					(
					SEQ_EMPLOYEE_NO.NEXTVAL
				,	#{employeeName}
				,	#{departCodeNo}
				,	#{ssn}
				,	#{rankCodeNo}
				,	#{joinDate}
				,	#{employeePhone}
				,	#{employeeTel}
				,	#{employeeEmail}
				,	#{zipCode}
				,	#{address}
				,	#{detailAddress}
				,	#{profileImage}
				,	#{signatureImage}
				,	#{contractFile}
				,	#{wage}
				,	#{refer}
					)
	</insert>
	
	<select id="selectHumanResourceCardList" resultMap="HumanResourceCardSelectMap">  
		SELECT	EMPLOYEE_NO
		  		,	EMPLOYEE_NAME
		  		,	DEPART_CODE_NO
		  		,	SSN
		  		,	RANK_CODE_NO
		  		,	CODE_FUNCTION('rank', RANK_CODE_NO) AS RANK_CODE_NAME
		  		,	JOIN_DATE
		  		,	EMPLOYEE_PHONE
		  		,	EMPLOYEE_TEL
		  		,	EMAIL
		  		,	RESIGN_CODE
		  		,	RESIGN_DATE
		  		,	RESIGN_REASON
		  		,	ZIP_CODE
		  		,	ADDRESS
		  		,	DETAIL_ADDRESS
		  		,	PROFILE_IMAGE
		  		,	SIGNATURE_IMAGE
		  		,	CONTRACT_FILE
		  		,	WAGE
		  		,	REFER
		  FROM	HUMAN_RESOURCE_CARD
	</select>

</mapper>